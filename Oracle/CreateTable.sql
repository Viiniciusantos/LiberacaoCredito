--Create
CREATE TABLE Clientes (
    IdCliente NUMBER GENERATED by default on null as IDENTITY,
    Nome VARCHAR2(200) NOT NULL,
    UF Char(2) NOT NULL,
	Celular NUMBER,
	CONSTRAINT PK_Cliente PRIMARY KEY (IdCliente)
);

CREATE TABLE Financiamentos (
    IdFinanciamento NUMBER GENERATED by default on null as IDENTITY,
    TipoFinanciamento VARCHAR2(255) NOT NULL,
    ValorTotal NUMBER(19, 4) NOT NULL,
	IdCliente NUMBER NOT NULL,
	Vencimento DATE NOT NULL,
	CONSTRAINT PK_Financiamento PRIMARY KEY (IdFinanciamento),
	CONSTRAINT ClienteFinanciamento_FK FOREIGN KEY (IdCliente) REFERENCES Clientes(IdCliente)
);

CREATE TABLE Parcelas (
    IdFinanciamento NUMBER NOT NULL,
    Parcela NUMBER NOT NULL,
    Valor NUMBER(19, 4) NOT NULL,
	Vencimento DATE NOT NULL,
	Pagamento DATE,
	CONSTRAINT FinanciamentoParcela_FK FOREIGN KEY (IdFinanciamento) REFERENCES Financiamentos(IdFinanciamento)
);


--Inserts
--Clientes
INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Marcos Paulo', 'SP', 11948198820);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Carlos Sanchez', 'SP', 11940788820);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Milton Nascimento', 'SP', 11948198001);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Edson Arantes', 'SP', 11947728820);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Vilma Aparecida', 'SP', 11948102020);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Cintia Vieira', 'RJ', 11948178920);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Marcia Cavalcante', 'RJ', 11998198820);

INSERT INTO CLIENTES (NOME, UF, CELULAR) 
VALUES('Yuri Machado', 'PR', 11948198820);


--Financiamentos
INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Consignado', 5000, 1, to_date('07/12/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Consignado', 2900, 2, to_date('15/09/2020 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Direto', 15000, 3, to_date('02/02/2020 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Pessoa Fisica', 3500, 4, to_date('20/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Pessoa Fisica', 10000, 5, to_date('20/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Pessoa Juridica', 500, 6, to_date('20/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Pessoa Juridica', 2000, 7, to_date('08/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

INSERT INTO FINANCIAMENTOS (TIPOFINANCIAMENTO, VALORTOTAL, IDCLIENTE, VENCIMENTO) 
VALUES('Pessoa Juridica', 18000, 8, to_date('12/12/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'));

--Parcelas

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(1, 1, 1000, to_date('07/07/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('07/07/2019 10:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(1, 2, 1000, to_date('07/08/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('05/08/2019 08:32:54','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(1, 3, 1000, to_date('07/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('15/09/2019 10:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(1, 4, 1000, to_date('07/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(1, 5, 1000, to_date('07/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(2, 1, 1450, to_date('15/08/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('02/09/2019 11:00:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(2, 2, 1450, to_date('15/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 1, 2500, to_date('02/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 2, 2500, to_date('02/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 3, 2500, to_date('02/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 4, 2500, to_date('02/12/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 5, 2500, to_date('02/01/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(3, 6, 2500, to_date('02/02/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(4, 1, 1750, to_date('20/08/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/08/2019 11:19:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(4, 2, 1750, to_date('20/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);


INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 1, 500, to_date('20/04/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/04/2018 09:19:53','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 2, 500, to_date('20/05/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('19/05/2018 12:00:54','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 3, 500, to_date('20/06/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/06/2018 17:19:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 4, 500, to_date('20/07/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/07/2018 11:19:00','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 5, 500, to_date('20/08/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/08/2018 20:12:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 6, 500, to_date('20/09/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/09/2019 14:21:41','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 7, 500, to_date('20/10/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/10/2018 07:22:51','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 8, 500, to_date('20/11/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/12/2018 16:31:46','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 9, 500, to_date('20/12/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/12/2018 09:19:12','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 10, 500, to_date('20/01/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/01/2019 11:00:00','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 11, 500, to_date('20/02/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/02/2019 11:43:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 12, 500, to_date('20/03/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/03/2019 11:19:43','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 13, 500, to_date('20/04/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('05/05/2019 10:25:42','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 14, 500, to_date('20/05/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('10/06/2019 14:54:32','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 15, 500, to_date('20/06/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('20/06/2019 11:11:41','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 16, 500, to_date('20/07/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('18/07/2019 08:19:00','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 17, 500, to_date('20/08/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 18, 500, to_date('20/09/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 19, 500, to_date('20/10/2018 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(5, 20, 500, to_date('20/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(6, 1, 500, to_date('20/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(7, 1, 400, to_date('08/07/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('07/07/2019 16:55:41','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(7, 2, 400, to_date('08/08/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('07/08/2019 10:12:31','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(7, 3, 400, to_date('08/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('07/09/2019 08:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(7, 4, 400, to_date('08/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(7, 5, 400, to_date('08/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 1, 2250, to_date('12/05/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('30/05/2019 15:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 2, 2250, to_date('12/06/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('29/06/2019 10:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 3, 2250, to_date('12/07/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('28/07/2019 10:55:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 4, 2250, to_date('12/08/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('10/08/2019 15:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 5, 2250, to_date('12/09/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), to_date('12/09/2019 19:29:03','dd/mm/yyyy hh24:mi:ss'));
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 6, 2250, to_date('12/10/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 7, 2250, to_date('12/11/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);
INSERT INTO PARCELAS (IDFINANCIAMENTO, PARCELA, VALOR, VENCIMENTO, PAGAMENTO) 
VALUES(8, 8, 2250, to_date('12/12/2019 23:59:59','dd/mm/yyyy hh24:mi:ss'), null);

